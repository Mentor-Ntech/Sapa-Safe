(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2740],{27778:function(e,s,a){Promise.resolve().then(a.bind(a,95006))},95006:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return y}});var t=a(13267),l=a(85236),r=a(63600),c=a(83138),i=a(76421);let n=(0,i.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),d=(0,i.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var o=a(4338);let x=(0,i.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);var m=a(54108),h=a(49205),p=a(71200),u=a(96512),f=a(62606),j=a(860),N=a(11879),g=a(12751);function y(){let e=(0,g.useRouter)(),{address:s,isConnected:a}=(0,p.m)(),i=(0,u.x)(),{vaultFactory:y}=(0,h.S2)(),{userProfile:v,isRegistered:b,isLoading:w}=(0,h.Gr)(),V=Array.isArray(y.userActiveVaults)?y.userActiveVaults:[],k=Array.isArray(y.userCompletedVaults)?y.userCompletedVaults:[],S=Array.isArray(y.userEarlyWithdrawnVaults)?y.userEarlyWithdrawnVaults:[];y.userVaultStatusSummary;let C=y.isLoadingUserActiveVaults||y.isLoadingUserCompletedVaults||y.isLoadingUserEarlyWithdrawnVaults||y.isLoadingUserVaultStatusSummary,[A,Z]=(0,l.useState)(!0),[G,E]=(0,l.useState)({totalSaved:0n,totalVaults:0,activeVaults:0,completedVaults:0,successRate:0,monthlyGrowth:0,vaultPerformance:[],savingsGoals:[]});return((0,l.useEffect)(()=>{let e=async()=>{if(!a||!s){Z(!1);return}try{Z(!0);let e=V.length+k.length+S.length,s=e>0?k.length/e*100:0;E({totalSaved:0n,totalVaults:e,activeVaults:V.length,completedVaults:k.length,successRate:s,monthlyGrowth:0,vaultPerformance:[],savingsGoals:[]})}catch(e){console.error("Error loading stats data:",e)}finally{Z(!1)}};a&&s&&e()},[a,s,V,k,S]),(A||w)&&a)?(0,t.jsx)(f.k,{}):a?44787!==i?(0,t.jsx)(m.n,{children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"sapasafe-heading-1 mb-4",children:"Switch to Alfajores"}),(0,t.jsx)("p",{className:"sapasafe-text text-muted-foreground mb-6",children:"SapaSafe is currently only available on Celo Alfajores testnet"}),(0,t.jsx)(N.z,{onClick:()=>window.open("https://docs.celo.org/network/alfajores","_blank"),className:"sapasafe-btn-primary",children:"Learn How to Switch Networks"})]})})}):b?0!==V.length+k.length+S.length||C?(0,t.jsx)(m.n,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-background pb-20",children:[(0,t.jsx)("div",{className:"bg-primary text-white px-4 py-8",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"sapasafe-heading-2 mb-2",children:"Savings Analytics"}),(0,t.jsx)("p",{className:"sapasafe-text-large opacity-90",children:"Track your financial progress"})]})}),(0,t.jsxs)("div",{className:"px-4 py-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(r.Zb,{className:"sapasafe-card sapasafe-card-interactive",children:(0,t.jsx)(r.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"sapasafe-text-small mb-1",children:"Total Saved"}),(0,t.jsxs)("p",{className:"sapasafe-heading-2 text-primary",children:[G.totalSaved?"".concat(Number(G.totalSaved)/1e18):"0"," cNGN"]}),(0,t.jsxs)("p",{className:"sapasafe-text-caption text-success",children:[G.monthlyGrowth>0?"+".concat(G.monthlyGrowth,"%"):"0%"," this month"]})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:(0,t.jsx)(d,{className:"h-6 w-6 text-primary"})})]})})}),(0,t.jsx)(r.Zb,{className:"sapasafe-card sapasafe-card-interactive",children:(0,t.jsx)(r.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"sapasafe-text-small mb-1",children:"Success Rate"}),(0,t.jsxs)("p",{className:"sapasafe-heading-2 text-accent",children:[G.successRate.toFixed(1),"%"]}),(0,t.jsxs)("p",{className:"sapasafe-text-caption text-success",children:[G.completedVaults," of ",G.totalVaults," vaults completed"]})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center",children:(0,t.jsx)(c.Z,{className:"h-6 w-6 text-accent"})})]})})})]}),(0,t.jsxs)(r.Zb,{className:"sapasafe-card",children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)(r.ll,{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:(0,t.jsx)(o.Z,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("span",{className:"sapasafe-heading-3",children:"Vault Statistics"})]})}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-primary/5 rounded-lg border border-primary/20",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"sapasafe-text-body font-semibold",children:"Active Vaults"}),(0,t.jsx)("p",{className:"sapasafe-text-small text-muted-foreground",children:"Currently locked"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"sapasafe-text-body font-semibold text-primary",children:G.activeVaults}),(0,t.jsxs)("p",{className:"sapasafe-text-small text-primary",children:[G.totalVaults>0?"".concat((G.activeVaults/G.totalVaults*100).toFixed(1),"%"):"0%"," of total"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-accent/5 rounded-lg border border-accent/20",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"sapasafe-text-body font-semibold",children:"Completed Vaults"}),(0,t.jsx)("p",{className:"sapasafe-text-small text-muted-foreground",children:"Successfully finished"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"sapasafe-text-body font-semibold text-accent",children:G.completedVaults}),(0,t.jsxs)("p",{className:"sapasafe-text-small text-accent",children:[G.totalVaults>0?"".concat((G.completedVaults/G.totalVaults*100).toFixed(1),"%"):"0%"," success rate"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-info/5 rounded-lg border border-info/20",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"sapasafe-text-body font-semibold",children:"Total Vaults"}),(0,t.jsx)("p",{className:"sapasafe-text-small text-muted-foreground",children:"All time created"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"sapasafe-text-body font-semibold text-info",children:G.totalVaults}),(0,t.jsxs)("p",{className:"sapasafe-text-small text-info",children:[S.length," early withdrawals"]})]})]})]})})]}),(0,t.jsxs)(r.Zb,{className:"sapasafe-card",children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)(r.ll,{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-accent rounded-lg flex items-center justify-center",children:(0,t.jsx)(n,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("span",{className:"sapasafe-heading-3",children:"Vault Performance"})]})}),(0,t.jsx)(r.aY,{children:0===V.length&&0===k.length?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"sapasafe-text text-muted-foreground",children:"No vaults to display. Create your first vault to see performance metrics."})}):(0,t.jsxs)("div",{className:"space-y-4",children:[V.length>0&&(0,t.jsxs)("div",{className:"p-4 bg-success/5 rounded-lg border border-success/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"sapasafe-text-body font-semibold",children:"Active Vaults"}),(0,t.jsxs)("p",{className:"sapasafe-text-small text-success",children:[V.length," vaults"]})]}),(0,t.jsx)("div",{className:"sapasafe-progress",children:(0,t.jsx)("div",{className:"sapasafe-progress-bar",style:{width:"100%"}})}),(0,t.jsxs)("p",{className:"sapasafe-text-small text-muted-foreground mt-2",children:["Currently locked • ",G.totalSaved?"".concat(Number(G.totalSaved)/1e18):"0"," cNGN total"]})]}),k.length>0&&(0,t.jsxs)("div",{className:"p-4 bg-info/5 rounded-lg border border-info/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"sapasafe-text-body font-semibold",children:"Completed Vaults"}),(0,t.jsxs)("p",{className:"sapasafe-text-small text-info",children:[k.length," vaults"]})]}),(0,t.jsx)("div",{className:"sapasafe-progress",children:(0,t.jsx)("div",{className:"sapasafe-progress-bar",style:{width:"100%"}})}),(0,t.jsxs)("p",{className:"sapasafe-text-small text-success mt-2",children:["Successfully completed • ",G.successRate.toFixed(1),"% success rate"]})]}),S.length>0&&(0,t.jsxs)("div",{className:"p-4 bg-warning/5 rounded-lg border border-warning/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"sapasafe-text-body font-semibold",children:"Early Withdrawn Vaults"}),(0,t.jsxs)("p",{className:"sapasafe-text-small text-warning",children:[S.length," vaults"]})]}),(0,t.jsx)("div",{className:"sapasafe-progress",children:(0,t.jsx)("div",{className:"sapasafe-progress-bar",style:{width:"100%"}})}),(0,t.jsx)("p",{className:"sapasafe-text-small text-muted-foreground mt-2",children:"Withdrawn before completion • Penalties applied"})]})]})})]}),(0,t.jsxs)(r.Zb,{className:"sapasafe-card",children:[(0,t.jsx)(r.Ol,{children:(0,t.jsxs)(r.ll,{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-info rounded-lg flex items-center justify-center",children:(0,t.jsx)(x,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("span",{className:"sapasafe-heading-3",children:"Savings Goals"})]})}),(0,t.jsx)(r.aY,{children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"sapasafe-text text-muted-foreground mb-4",children:"Savings goals feature coming soon!"}),(0,t.jsx)("p",{className:"sapasafe-text-small text-muted-foreground",children:"You'll be able to set and track custom savings goals with progress indicators."})]})})]})]})]})}):(0,t.jsx)(m.n,{children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsx)(j.u,{icon:(0,t.jsx)(n,{className:"h-12 w-12"}),title:"No Analytics Available",description:"Create your first vault to start tracking your savings progress",actionLabel:"Create Your First Vault",onAction:()=>e.push("/create-vault")})})})}):(0,t.jsx)(m.n,{children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsx)(j.u,{icon:(0,t.jsx)(c.Z,{className:"h-12 w-12"}),title:"Complete Your Registration",description:"Please complete your profile to view your savings analytics",actionLabel:"Complete Registration",onAction:()=>e.push("/register")})})})}):(0,t.jsx)(m.n,{children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"sapasafe-heading-1 mb-4",children:"Connect Your Wallet"}),(0,t.jsx)("p",{className:"sapasafe-text text-muted-foreground",children:"Connect your wallet to view your savings analytics"})]})})})}}},function(e){e.O(0,[7150,3108,1042,5371,1834,7631,5682,2020,1744],function(){return e(e.s=27778)}),_N_E=e.O()}]);