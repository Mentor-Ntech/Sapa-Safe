(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{8829:function(e,s,a){Promise.resolve().then(a.bind(a,87361))},87361:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return k}});var t=a(13267),r=a(85236),l=a(49205),c=a(71200),n=a(96512),i=a(54108),d=a(62606),o=a(860),x=a(11879),m=a(63600),u=a(47435),h=a(43213),p=a(11214),f=a(39132),j=a(46716),g=a(83138),N=a(48649),v=a(4338),y=a(50972),b=a(23350),w=a(45154),Z=a(12751),C=a(39217);function k(){let e=(0,Z.useRouter)(),{address:s,isConnected:a}=(0,c.m)(),k=(0,n.x)(),{userVaults:S,totalVaults:V,isLoading:A,refreshVaultData:Y,vaultFactory:O}=(0,l.S2)(),{getTransactionStats:E,hasPendingTransactions:z}=(0,l.nC)(),{userProfile:D,isRegistered:L,isLoading:U}=(0,l.Gr)(),M=Array.isArray(O.userActiveVaults)?O.userActiveVaults:[],R=Array.isArray(O.userCompletedVaults)?O.userCompletedVaults:[],T=Array.isArray(O.userEarlyWithdrawnVaults)?O.userEarlyWithdrawnVaults:[];O.userVaultStatusSummary;let W=O.isLoadingUserActiveVaults||O.isLoadingUserCompletedVaults||O.isLoadingUserEarlyWithdrawnVaults||O.isLoadingUserVaultStatusSummary,[_,F]=(0,r.useState)(null),[P,q]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{if(!a||!s){console.log("Not connected or no address"),q(!1);return}try{q(!0),new Promise((e,s)=>{setTimeout(()=>s(Error("Data loading timeout")),1e4)}),await Y(),await O.refetchUserActiveVaults(),await O.refetchUserCompletedVaults(),await O.refetchUserEarlyWithdrawnVaults(),await O.refetchUserVaultStatusSummary(),F(null)}catch(e){console.error("Error loading dashboard data:",e),C.Am.error("Failed to load dashboard data")}finally{q(!1)}})()},[a,s,D,L,U]);let B=()=>{e.push("/create-vault")},G=s=>{e.push("/vault-details/".concat(s))},H=M.length+R.length+T.length,J=E(),[I,K]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{let e=setTimeout(()=>{K(!0)},15e3);return()=>clearTimeout(e)},[]),(P||A||U)&&!I)?(0,t.jsx)(d.k,{}):a?44787!==k?(0,t.jsx)(i.n,{children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"sapasafe-heading-1 mb-4",children:"Switch to Alfajores"}),(0,t.jsx)("p",{className:"sapasafe-text text-muted-foreground mb-6",children:"SapaSafe is currently only available on Celo Alfajores testnet"}),(0,t.jsx)(x.z,{onClick:()=>window.open("https://docs.celo.org/network/alfajores","_blank"),className:"sapasafe-btn-primary",children:"Learn How to Switch Networks"})]})})}):L?0!==H||W?(0,t.jsx)(i.n,{children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"sapasafe-heading-1",children:["Welcome back, ",(null==D?void 0:D.fullName)||"Saver","! \uD83D\uDC4B"]}),(0,t.jsx)("p",{className:"sapasafe-text text-muted-foreground",children:"Track your savings progress and manage your vaults"})]}),(0,t.jsx)("div",{className:"flex gap-2 mt-4 sm:mt-0",children:(0,t.jsxs)(x.z,{onClick:B,className:"sapasafe-btn-primary",children:[(0,t.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Create Vault"]})})]}),z&&(0,t.jsx)(m.Zb,{className:"sapasafe-card mb-6 border-warning/20 bg-warning/5",children:(0,t.jsx)(m.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(y.Z,{className:"h-5 w-5 text-warning"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"sapasafe-text-sm font-medium text-warning",children:"You have pending transactions"}),(0,t.jsx)("p",{className:"sapasafe-text-xs text-muted-foreground",children:"Some of your vault operations are being processed"})]})]})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(m.Zb,{className:"sapasafe-card",children:[(0,t.jsx)(m.Ol,{className:"pb-3",children:(0,t.jsxs)(m.ll,{className:"sapasafe-heading-4 flex items-center gap-2",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5 text-primary"}),"Active Vaults"]})}),(0,t.jsxs)(m.aY,{children:[(0,t.jsx)("div",{className:"sapasafe-heading-2",children:M.length}),(0,t.jsx)("p",{className:"sapasafe-text-xs text-muted-foreground",children:"Currently locked vaults"})]})]}),(0,t.jsxs)(m.Zb,{className:"sapasafe-card",children:[(0,t.jsx)(m.Ol,{className:"pb-3",children:(0,t.jsxs)(m.ll,{className:"sapasafe-heading-4 flex items-center gap-2",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 text-success"}),"Total Vaults"]})}),(0,t.jsxs)(m.aY,{children:[(0,t.jsx)("div",{className:"sapasafe-heading-2",children:H}),(0,t.jsx)("p",{className:"sapasafe-text-xs text-muted-foreground",children:"All vaults created"})]})]}),(0,t.jsxs)(m.Zb,{className:"sapasafe-card",children:[(0,t.jsx)(m.Ol,{className:"pb-3",children:(0,t.jsxs)(m.ll,{className:"sapasafe-heading-4 flex items-center gap-2",children:[(0,t.jsx)(g.Z,{className:"h-5 w-5 text-accent"}),"Total Saved"]})}),(0,t.jsxs)(m.aY,{children:[(0,t.jsx)("div",{className:"sapasafe-heading-2",children:"0"}),(0,t.jsx)("p",{className:"sapasafe-text-xs text-muted-foreground",children:"Across all vaults"})]})]}),(0,t.jsxs)(m.Zb,{className:"sapasafe-card",children:[(0,t.jsx)(m.Ol,{className:"pb-3",children:(0,t.jsxs)(m.ll,{className:"sapasafe-heading-4 flex items-center gap-2",children:[(0,t.jsx)(b.Z,{className:"h-5 w-5 text-info"}),"Completed"]})}),(0,t.jsxs)(m.aY,{children:[(0,t.jsx)("div",{className:"sapasafe-heading-2",children:R.length}),(0,t.jsx)("p",{className:"sapasafe-text-xs text-muted-foreground",children:"Successfully completed vaults"})]})]})]}),(0,t.jsxs)(m.Zb,{className:"sapasafe-card mb-8",children:[(0,t.jsx)(m.Ol,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(m.ll,{className:"sapasafe-heading-3",children:"Active Vaults"}),(0,t.jsx)(m.SZ,{children:"Your currently locked savings vaults"})]}),(0,t.jsxs)(x.z,{variant:"ghost",onClick:()=>{e.push("/vaults")},className:"sapasafe-btn-outline",children:["View All",(0,t.jsx)(w.Z,{className:"ml-2 h-4 w-4"})]})]})}),(0,t.jsx)(m.aY,{children:0===M.length?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"sapasafe-text text-muted-foreground",children:"No active vaults. Create your first vault to start saving!"})}):(0,t.jsx)("div",{className:"space-y-4",children:M.slice(0,3).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>G(e),children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(f.Z,{className:"h-6 w-6 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"sapasafe-heading-4",children:["Vault #",s+1]}),(0,t.jsxs)("p",{className:"sapasafe-text-sm text-muted-foreground",children:[e.slice(0,8),"...",e.slice(-6)]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"sapasafe-heading-4",children:"View Details"}),(0,t.jsx)(u.C,{variant:"secondary",className:"sapasafe-status-info",children:"Active"})]})]},s))})})]}),(0,t.jsxs)(m.Zb,{className:"sapasafe-card",children:[(0,t.jsxs)(m.Ol,{children:[(0,t.jsx)(m.ll,{className:"sapasafe-heading-3",children:"Recent Activity"}),(0,t.jsx)(m.SZ,{children:"Your latest vault operations and transactions"})]}),(0,t.jsx)(m.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:0===J.total?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"sapasafe-text text-muted-foreground",children:"No recent activity. Create a vault to get started!"})}):(0,t.jsx)("div",{className:"space-y-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-success/10 flex items-center justify-center",children:(0,t.jsx)(p.Z,{className:"h-4 w-4 text-success"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"sapasafe-text-sm font-medium",children:"Vault Created"}),(0,t.jsx)("p",{className:"sapasafe-text-xs text-muted-foreground",children:new Date().toLocaleDateString()})]})]}),(0,t.jsx)(u.C,{variant:"secondary",className:"sapasafe-status-success",children:"Success"})]})})})})]})]})}):(0,t.jsx)(i.n,{children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"sapasafe-heading-1",children:["Welcome to SapaSafe, ",(null==D?void 0:D.fullName)||"Saver","! \uD83C\uDF89"]}),(0,t.jsx)("p",{className:"sapasafe-text text-muted-foreground",children:"You're all set up! Ready to start your savings journey?"})]}),(0,t.jsx)("div",{className:"flex gap-2 mt-4 sm:mt-0",children:(0,t.jsxs)(x.z,{onClick:B,className:"sapasafe-btn-primary",children:[(0,t.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Create Your First Vault"]})})]}),(0,t.jsx)(m.Zb,{className:"sapasafe-card mb-8",children:(0,t.jsx)(m.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(f.Z,{className:"h-8 w-8 text-primary"})}),(0,t.jsx)("h2",{className:"sapasafe-heading-2 mb-2",children:"Start Your Savings Journey"}),(0,t.jsx)("p",{className:"sapasafe-text text-muted-foreground mb-6",children:"Create your first savings vault to begin building financial discipline and achieve your goals."}),(0,t.jsxs)(x.z,{onClick:B,size:"lg",className:"sapasafe-btn-primary",children:[(0,t.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Create Your First Vault"]})]})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(m.Zb,{className:"sapasafe-card",children:[(0,t.jsx)(m.Ol,{className:"pb-3",children:(0,t.jsxs)(m.ll,{className:"sapasafe-heading-4 flex items-center gap-2",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5 text-primary"}),"Active Vaults"]})}),(0,t.jsxs)(m.aY,{children:[(0,t.jsx)("p",{className:"sapasafe-heading-2 text-primary",children:M.length}),(0,t.jsx)("p",{className:"sapasafe-text-xs text-muted-foreground",children:0===M.length?"No vaults yet":"".concat(M.length," vault").concat(1===M.length?"":"s")})]})]}),(0,t.jsxs)(m.Zb,{className:"sapasafe-card",children:[(0,t.jsx)(m.Ol,{className:"pb-3",children:(0,t.jsxs)(m.ll,{className:"sapasafe-heading-4 flex items-center gap-2",children:[(0,t.jsx)(g.Z,{className:"h-5 w-5 text-success"}),"Total Saved"]})}),(0,t.jsxs)(m.aY,{children:[(0,t.jsx)("p",{className:"sapasafe-heading-2 text-success",children:"0"}),(0,t.jsx)("p",{className:"sapasafe-text-xs text-muted-foreground",children:"Start saving today"})]})]}),(0,t.jsxs)(m.Zb,{className:"sapasafe-card",children:[(0,t.jsx)(m.Ol,{className:"pb-3",children:(0,t.jsxs)(m.ll,{className:"sapasafe-heading-4 flex items-center gap-2",children:[(0,t.jsx)(N.Z,{className:"h-5 w-5 text-success"}),"Completed"]})}),(0,t.jsxs)(m.aY,{children:[(0,t.jsx)("p",{className:"sapasafe-heading-2 text-success",children:"0"}),(0,t.jsx)("p",{className:"sapasafe-text-xs text-muted-foreground",children:"Goals achieved"})]})]}),(0,t.jsxs)(m.Zb,{className:"sapasafe-card",children:[(0,t.jsx)(m.Ol,{className:"pb-3",children:(0,t.jsxs)(m.ll,{className:"sapasafe-heading-4 flex items-center gap-2",children:[(0,t.jsx)(v.Z,{className:"h-5 w-5 text-primary"}),"Success Rate"]})}),(0,t.jsxs)(m.aY,{children:[(0,t.jsx)("p",{className:"sapasafe-heading-2 text-primary",children:"-"}),(0,t.jsx)("p",{className:"sapasafe-text-xs text-muted-foreground",children:"Create vaults to see"})]})]})]})]})}):(0,t.jsx)(i.n,{children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsx)(o.u,{icon:(0,t.jsx)(h.Z,{className:"h-12 w-12"}),title:"Complete Your Registration",description:"Please complete your profile to start using SapaSafe",actionLabel:"Complete Registration",onAction:()=>e.push("/register")})})})}):(0,t.jsx)(i.n,{children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"sapasafe-heading-1 mb-4",children:"Connect Your Wallet"}),(0,t.jsx)("p",{className:"sapasafe-text text-muted-foreground",children:"Connect your wallet to start saving with SapaSafe"})]})})})}},47435:function(e,s,a){"use strict";a.d(s,{C:function(){return n}});var t=a(13267);a(85236);var r=a(43211),l=a(30733);let c=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,l.cn)(c({variant:a}),s),...r})}},45154:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(76421).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},48649:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(76421).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},50972:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(76421).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},39132:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(76421).Z)("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]])},23350:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(76421).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},43213:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(76421).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[7150,3108,1042,5371,1834,7631,5682,2020,1744],function(){return e(e.s=8829)}),_N_E=e.O()}]);